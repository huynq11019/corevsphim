/*! For license information please see jquery.raty.js.LICENSE.txt */
(()=>{function t(a){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(a)}var a,e;a=jQuery,e={init:function(t){return this.each((function(){e.destroy.call(this),this.opt=a.extend(!0,{},a.fn.raty.defaults,t);var i=a(this);e._callback.call(this,["number","readOnly","score","scoreName"]),this.opt.precision&&e._adjustPrecision.call(this),this.opt.number=e._between(this.opt.number,0,this.opt.numberMax),this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.slice(this.opt.path.length-1,this.opt.path.length)&&(this.opt.path+="/"),this.stars=e._createStars.call(this),this.score=e._createScore.call(this),e._apply.call(this,this.opt.score);var o=this.opt.space?4:0,s=this.opt.width||this.opt.number*this.opt.size+this.opt.number*o;this.opt.cancel&&(this.cancel=e._createCancel.call(this),s+=this.opt.size+o),this.opt.readOnly?e._lock.call(this):(i.css("cursor","pointer"),e._binds.call(this)),!1!==this.opt.width&&i.css("width",s),e._target.call(this,this.opt.score),i.data({settings:this.opt,raty:!0})}))},_adjustPrecision:function(){this.opt.targetType="score",this.opt.half=!0},_apply:function(t){t&&t>0&&(t=e._between(t,0,this.opt.number),this.score.val(t)),e._fill.call(this,t),t&&e._roundStars.call(this,t)},_between:function(t,a,e){return Math.min(Math.max(parseFloat(t),a),e)},_binds:function(){this.cancel&&e._bindCancel.call(this),e._bindClick.call(this),e._bindOut.call(this),e._bindOver.call(this)},_bindCancel:function(){e._bindClickCancel.call(this),e._bindOutCancel.call(this),e._bindOverCancel.call(this)},_bindClick:function(){var t=this,e=a(t);t.stars.on("click.raty",(function(a){t.score.val(t.opt.half||t.opt.precision?e.data("score"):this.alt),t.opt.click&&t.opt.click.call(t,parseFloat(t.score.val()),a)}))},_bindClickCancel:function(){var t=this;t.cancel.on("click.raty",(function(a){t.score.removeAttr("value"),t.opt.click&&t.opt.click.call(t,null,a)}))},_bindOut:function(){var t=this;a(this).on("mouseleave.raty",(function(a){var i=parseFloat(t.score.val())||void 0;e._apply.call(t,i),e._target.call(t,i,a),t.opt.mouseout&&t.opt.mouseout.call(t,i,a)}))},_bindOutCancel:function(){var t=this;t.cancel.on("mouseleave.raty",(function(e){a(this).attr("src",t.opt.path+t.opt.cancelOff),t.opt.mouseout&&t.opt.mouseout.call(t,t.score.val()||null,e)}))},_bindOverCancel:function(){var t=this;t.cancel.on("mouseover.raty",(function(i){a(this).attr("src",t.opt.path+t.opt.cancelOn),t.stars.attr("src",t.opt.path+t.opt.starOff),e._target.call(t,null,i),t.opt.mouseover&&t.opt.mouseover.call(t,null)}))},_bindOver:function(){var t=this,i=a(t),o=t.opt.half?"mousemove.raty":"mouseover.raty";t.stars.on(o,(function(o){var s=parseInt(this.alt,10);if(t.opt.half){var r=parseFloat((o.pageX-a(this).offset().left)/t.opt.size),n=r>.5?1:.5;s=s-1+n,e._fill.call(t,s),t.opt.precision&&(s=s-n+r),e._roundStars.call(t,s),i.data("score",s)}else e._fill.call(t,s);e._target.call(t,s,o),t.opt.mouseover&&t.opt.mouseover.call(t,s,o)}))},_callback:function(t){for(i in t)"function"==typeof this.opt[t[i]]&&(this.opt[t[i]]=this.opt[t[i]].call(this))},_createCancel:function(){var t=a(this),e=this.opt.path+this.opt.cancelOff,i=a("<img />",{src:e,alt:"x",title:this.opt.cancelHint,class:"raty-cancel"});return"left"==this.opt.cancelPlace?t.prepend("&#160;").prepend(i):t.append("&#160;").append(i),i},_createScore:function(){return a("<input />",{type:"hidden",name:this.opt.scoreName}).appendTo(this)},_createStars:function(){for(var t=a(this),i=1;i<=this.opt.number;i++){var o=e._getHint.call(this,i),s=this.opt.score&&this.opt.score>=i?"starOn":"starOff";s=this.opt.path+this.opt[s],a("<img />",{src:s,alt:i,title:o}).appendTo(this),this.opt.space&&t.append(i<this.opt.number?"&#160;":"")}return t.children("img")},_error:function(t){a(this).html(t),a.error(t)},_fill:function(t){for(var a=this,e=0,i=1;i<=a.stars.length;i++){var o=a.stars.eq(i-1),s=a.opt.single?i==t:i<=t;if(a.opt.iconRange&&a.opt.iconRange.length>e){var r=a.opt.iconRange[e],n=r.on||a.opt.starOn,c=r.off||a.opt.starOff,l=s?n:c;i<=r.range&&o.attr("src",a.opt.path+l),i==r.range&&e++}else l=s?"starOn":"starOff",o.attr("src",this.opt.path+this.opt[l])}},_getHint:function(t){var a=this.opt.hints[t-1];return""===a?"":a||t},_lock:function(){var t=parseInt(this.score.val(),10),i=t?e._getHint.call(this,t):this.opt.noRatedMsg;a(this).data("readonly",!0).css("cursor","").attr("title",i),this.score.attr("readonly","readonly"),this.stars.attr("title",i),this.cancel&&this.cancel.hide()},_roundStars:function(t){var a=(t-Math.floor(t)).toFixed(2);if(a>this.opt.round.down){var e="starOn";this.opt.halfShow&&a<this.opt.round.up?e="starHalf":a<this.opt.round.full&&(e="starOff"),this.stars.eq(Math.ceil(t)-1).attr("src",this.opt.path+this.opt[e])}},_target:function(t,i){if(this.opt.target){var o=a(this.opt.target);0===o.length&&e._error.call(this,"Target selector invalid or missing!"),this.opt.targetFormat.indexOf("{score}")<0&&e._error.call(this,'Template "{score}" missing!');var s=i&&"mouseover"==i.type;void 0===t?t=this.opt.targetText:null===t?t=s?this.opt.cancelHint:this.opt.targetText:("hint"==this.opt.targetType?t=e._getHint.call(this,Math.ceil(t)):this.opt.precision&&(t=parseFloat(t).toFixed(1)),s||this.opt.targetKeep||(t=this.opt.targetText)),t&&(t=this.opt.targetFormat.toString().replace("{score}",t)),o.is(":input")?o.val(t):o.html(t)}},_unlock:function(){a(this).data("readonly",!1).css("cursor","pointer").removeAttr("title"),this.score.removeAttr("readonly","readonly");for(var t=0;t<this.opt.number;t++)this.stars.eq(t).attr("title",e._getHint.call(this,t+1));this.cancel&&this.cancel.css("display","")},cancel:function(t){return this.each((function(){!0!==a(this).data("readonly")&&(e[t?"click":"score"].call(this,null),this.score.removeAttr("value"))}))},click:function(t){return a(this).each((function(){!0!==a(this).data("readonly")&&(e._apply.call(this,t),this.opt.click||e._error.call(this,'You must add the "click: function(score, evt) { }" callback.'),this.opt.click.call(this,t,{type:"click"}),e._target.call(this,t))}))},destroy:function(){return a(this).each((function(){var t=a(this),e=t.data("raw");e?t.off(".raty").empty().css({cursor:e.style.cursor,width:e.style.width}).removeData("readonly"):t.data("raw",t.clone()[0])}))},getScore:function(){var t,e=[];return a(this).each((function(){t=this.score.val(),e.push(t?parseFloat(t):void 0)})),e.length>1?e:e[0]},readOnly:function(t){return this.each((function(){var i=a(this);i.data("readonly")!==t&&(t?(i.off(".raty").children("img").off(".raty"),e._lock.call(this)):(e._binds.call(this),e._unlock.call(this)),i.data("readonly",t))}))},reload:function(){return e.set.call(this,{})},score:function(){return arguments.length?e.setScore.apply(this,arguments):e.getScore.call(this)},set:function(t){return this.each((function(){var e=a(this),i=e.data("settings"),o=a.extend({},i,t);e.raty(o)}))},setScore:function(t){return a(this).each((function(){!0!==a(this).data("readonly")&&(e._apply.call(this,t),e._target.call(this,t))}))}},a.fn.raty=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==t(i)&&i?void a.error("Method "+i+" does not exist!"):e.init.apply(this,arguments)},a.fn.raty.defaults={cancel:!1,cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["1/10","2/10","3/10","4/10","5/10","6/10","7/10","8/10","9/10","10/10"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:10,numberMax:20,path:"/themes/motchill/images/",precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,size:16,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",target:void 0,targetFormat:"{score}",targetKeep:!1,targetText:"",targetType:"hint",width:200}})();